<?xml version="1.0" encoding="utf-8" ?>
<Patch>
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <!--this part adds a component if not already there. pre-requisite-->
    <operations>
      <li Class="PatchOperationConditional">
        <xpath>/Defs/ThingDef[defName = "Human"]/comps</xpath>
        <success>Always</success>
        <nomatch Class="PatchOperationAdd">
          <xpath>/Defs/ThingDef[defName = "Human"]</xpath>
          <value>
            <comps />
          </value>
        </nomatch>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>/Defs/ThingDef[defName = "Human"]/comps</xpath>
        <value>
          <li Class = "FacialStuff.CompProperties_BodyAnimator">
            <!--needed for everything with hands-->
            <bipedWithHands>true</bipedWithHands>
            <!--which hand texture?-->
            <handType>Human</handType>
            <!--custom drawers can be used here-->
            <bodyDrawers>
              <li Class ="FacialStuff.HumanBipedDrawer"/>
            </bodyDrawers>
          </li>
          <li Class = "FacialStuff.CompProperties_Face">
            <!--if false, vanilla heads are used, otherwise the FS blank texture is used-->
            <needsBlankHumanHead>true</needsBlankHumanHead>
            <!-- off = no mouth-->
            <hasMouth>true</hasMouth>
            <!--race can have beards?-->
            <hasBeard>true</hasBeard>
            <!--race can have wrinkles?-->
            <hasWrinkles>true</hasWrinkles>
            <!--head rotation / tracking-->
            <canRotateHead>true</canRotateHead>
			
			<useTexCollection>
				<li>Human</li>
			</useTexCollection>
			
			<!--
			The number of members declared in this list must be the same as the number of eye BodyPartRecords declared in the race's BodyDef.
			An eye BodyPartRecord should have BodyPartGroupDef of "Eyes".
			The order of the PerEyeDef declared in this list matches the order of eye BodyPatRecords declared in the race's BodyDef.
			-->
			<perEyeDefs>
				<!-- The following PerEyeDefs are declared in Defs/EyeDefs/PerEyeDef_Human.xml -->
				<!-- Left eye is declared first in human BodyDef, so this corresponds to the left eye -->
				<li>HumanLeftEye</li>
				<!-- Right eye is declared after the left eye in human BodyDef, so this corresponds to the right eye -->
				<li>HumanRightEye</li>
				<!-- More list members should be added if the race has more eyes -->
			</perEyeDefs>
            <!--the drawer for the head. more than one can be defined-->
            <headDrawers>
              <li Class ="FacialStuff.HumanHeadDrawer"/>
              <!--  <li Class ="FacialStuff.SecondHeadDrawer"/>-->
            </headDrawers>
          </li>
        </value>
      </li>
    </operations>
  </Operation>

</Patch>
